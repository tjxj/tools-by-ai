<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3:4 图片转换器 | 智能背景填充</title>
    <meta name="description" content="将图片自动转换为3:4比例，支持多种渐变背景填充，可调整padding和圆角">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- 头部标题 -->
        <header class="app-header">
            <h1>🎨 3:4 图片转换器</h1>
        </header>

        <!-- 工具栏 -->
        <div class="toolbar">
            <!-- 上传区域 -->
            <div class="toolbar-section upload-section">
                <div class="upload-box" id="upload-zone">
                    <span class="upload-icon">📁</span>
                    <span class="upload-text">拖拽或点击上传</span>
                    <input type="file" id="file-input" multiple accept="image/*">
                </div>
            </div>

            <!-- 渐变选择 -->
            <div class="toolbar-section">
                <label class="section-label">渐变背景</label>
                <div class="gradient-row" id="gradient-grid"></div>
                <div class="custom-colors">
                    <input type="color" id="color-start" value="#667eea" title="起始色">
                    <span>→</span>
                    <input type="color" id="color-end" value="#764ba2" title="结束色">
                    <button class="btn-small" id="apply-custom">应用</button>
                </div>
            </div>

            <!-- 样式调整 -->
            <div class="toolbar-section">
                <label class="section-label">样式</label>
                <div class="controls-row">
                    <div class="control-item">
                        <span class="control-label">Padding</span>
                        <input type="range" id="padding-slider" min="0" max="80" value="20" class="mini-slider">
                        <span class="control-value" id="padding-value">20</span>
                    </div>
                    <div class="control-item">
                        <span class="control-label">圆角</span>
                        <input type="range" id="rounded-slider" min="0" max="40" value="12" class="mini-slider">
                        <span class="control-value" id="rounded-value">12</span>
                    </div>
                    <div class="control-item">
                        <span class="control-label">阴影</span>
                        <input type="range" id="shadow-slider" min="0" max="100" value="30" class="mini-slider">
                        <span class="control-value" id="shadow-value">30</span>
                    </div>
                </div>
            </div>

            <!-- 输出设置 -->
            <div class="toolbar-section">
                <label class="section-label">输出</label>
                <div class="output-row">
                    <select id="output-width" class="mini-select">
                        <option value="600">600px</option>
                        <option value="900" selected>900px</option>
                        <option value="1200">1200px</option>
                        <option value="1500">1500px</option>
                    </select>
                    <select id="output-quality" class="mini-select">
                        <option value="0.8">80%</option>
                        <option value="0.92" selected>92%</option>
                        <option value="1">100%</option>
                    </select>
                </div>
            </div>

            <!-- 水印设置 -->
            <div class="toolbar-section">
                <label class="section-label">水印</label>
                <div class="watermark-row">
                    <input type="text" id="watermark-text" class="watermark-input" value="Ai学习的老章" placeholder="水印文字">
                    <label class="watermark-toggle">
                        <input type="checkbox" id="watermark-enabled" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <!-- 操作按钮 -->
            <div class="toolbar-section actions-section">
                <button class="btn btn-primary" id="download-all" disabled>
                    ⬇️ 下载全部
                </button>
                <button class="btn btn-danger" id="clear-all" disabled>
                    🗑️ 清空
                </button>
            </div>
        </div>

        <!-- 预览区域 -->
        <main class="preview-area">
            <div class="preview-header">
                <span class="image-count" id="image-count">0 张图片</span>
            </div>
            <div class="preview-grid" id="preview-grid">
                <div class="empty-state" id="empty-state">
                    <div class="empty-icon">🖼️</div>
                    <p>拖拽图片到页面任意位置，或点击上方上传按钮</p>
                </div>
            </div>
        </main>

        <!-- 底部 -->
        <footer class="app-footer">
            <span>🔒 所有处理都在本地完成</span>
        </footer>
    </div>

    <!-- 模态框 -->
    <div class="modal" id="preview-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close" id="modal-close">×</button>
            <img src="" alt="Preview" id="modal-image">
            <button class="btn btn-primary" id="download-single">下载此图片</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>